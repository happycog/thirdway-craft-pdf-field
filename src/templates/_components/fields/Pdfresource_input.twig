{# @var craft \craft\web\twig\variables\CraftVariable #}
{#
/**
 * PDF Renderer plugin for Craft CMS 3.x
 *
 * Resource Field Input
 *
 * @author    Andy Skogrand
 * @copyright Copyright (c) 2018 Andy Skogrand
 * @link      http://bletchley.co
 * @package   pdfrenderer
 * @since     1.0.0
 */
#}

{% if isDraftOrRevision and value != 1 %}

  <div class="pdf-instructions">
    <p>A PDF will be generated once this entry is published.</p>
  </div>

{% else %}

  <div class="pdf-instructions">
  {% switch value %}
      {% case 2 %}
        <p class="error">There was an error generating the PDF</p>
      {% case 1 %}
        <p>
          An autogenerated PDF is available.
          {% if volume.url %}
            <a target="_blank" href="{{volume.url}}/pdfs/{{slug}}.pdf">Preview PDF</a>
          {% endif %}
        </p>
      {% case 0 %}
        <p>A PDF is being generated</p>  
      {% default %}
        <p>The PDF is in an unknown state</p>
  {% endswitch %}
  </div>

{% endif %}

<input type="hidden" name="{{name}}" value="0" />
